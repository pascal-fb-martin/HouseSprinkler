<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="/house.css">
<link rel="stylesheet" href="/sprinkler/sprinkler.css">
<script src="/sprinkler/sprinklerlib.js"></script>
<script>
window.onload = function() {

   function programClick () {
      var command = new XMLHttpRequest();
      command.open("GET", "/sprinkler/program/on?name="+this.programid);
      command.send(null);
   }

   sprinklerConfig (function (config) {
      var programs = config.programs;
      var buttons = document.getElementsByClassName ('sprkrbuttons')[0];
      for (var i = 0; i < programs.length; i++) {
         var outer = document.createElement("tr");
         var inner = document.createElement("td");
         var button = document.createElement("button");
         button.programid = programs[i].name;
         button.className = 'housepanelbutton';
         button.onclick = programClick;
         button.innerHTML = programs[i].name;
         inner.appendChild(button);
         outer.appendChild(inner);
         buttons.appendChild(outer);
      }
   });

   sprinklerInfo();
};
</script>
<head>
   <title></title>
</head>
<body>
   <header>
   <table>
   <tr>
   <td><a href="/sprinkler/index.html">Sprinkler</A></td>
   <td><a href="/sprinkler/zones.html">Zones</A></td>
   <td><span>Programs</span></td>
   <td><a href="/sprinkler/schedules.html">Schedules</A></td>
   <td><a href="/sprinkler/controls.html">Controls</A></td>
   <td><a href="/sprinkler/events.html">Events</A></td>
   <td><a href="/sprinkler/config.html">Config</A></td>
   </tr>
   </table> 
   </header> 
   <section>
   <table class="housepanel">
   <tr><td>
   <div class="housepane">
   <table class="housestatus">
   <tr><td colspan="2"><span class="housetitle">Program Manual Start</span></td></tr>
   <tr><td>Controler:</td>
   <td><span class="housedata hostname"></span></td></tr>
   <tr><td>Zone Status:</td>
   <td><span class="housedata activezone"></span></td></tr>
   <tr><td>Time:</td>
   <td><span class="housedata scheduletime"></span></td></tr>
   <tr><td>Program:</td>
   <td><span class="housedata activeprogram"></span></td></tr>
   <tr><td>Rain delay:</td>
   <td><span class="housedata raindelay"></span></td></tr>
   <tr><td>Watering Index:</td>
   <td><span class="housedata adjustment"></span></td></tr>
   </table>
   </div>
   </td></tr>
   </table> 
   <table class="sprkrbuttons"><tr><td><button class="housepanelbutton" onclick="sprinklerZoneOff()"><span class="zonename">Stop</span></button></td></tr></table>
   </section>
</body>
</html>

